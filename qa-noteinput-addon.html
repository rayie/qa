<!--
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
-->

<link rel="import" href="../polymer/polymer.html">
<link rel="import" href="../paper-styles/typography.html">
<link rel="import" href="../paper-input/paper-input-addon-behavior.html">

<dom-module id="qa-dateinput-addon">
  <template>
    <style>
      :host {
        display: inline-block;
        /* visibility: hidden; */
        /* color: var(--paper-input-container-invalid-color, --error-color); */
        @apply(--paper-font-caption);
        position: absolute;
        left:0;
        right:0;
        color: #4CAF50;
        font-weight: var(--msg-weight,700); 
      }

      /*
      :host([invalid]) {
        visibility: visible;
      };
      */
      :host([invalid]) {
        color: red; 
        font-weight: var(--msg-weight,300); 
      };
    </style>
    <span>[[msg]]</span>
  </template>
</dom-module>

<script>
  Polymer({
    is: 'qa-dateinput-addon',

    behaviors: [
      Polymer.PaperInputAddonBehavior
    ],

    properties: {
      msg: { 
        type: String , 
        value: function(){ return "Waiting for date entry..."; } 
      },
      /**
       * True if the error is showing.
       */
      invalid: {
        readOnly: true,
        reflectToAttribute: true,
        type: Boolean
      }
    },

    update: function(state) {
      this._setInvalid(state.invalid); 
      return;
    }
  });
</script>
